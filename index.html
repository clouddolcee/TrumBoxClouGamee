<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>â˜ CloudGame V5</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg1:#040612; --bg2:#0a1220; --card:#0f1726;
  --accent:#06b6d4; --accent2:#8b5cf6; --text:#e6eef8; --warn:#f87171;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:"Poppins",sans-serif;background:linear-gradient(130deg,var(--bg1),var(--bg2));color:var(--text);min-height:100vh;display:flex;flex-direction:column;-webkit-font-smoothing:antialiased;}
header{position:sticky;top:0;display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:rgba(6,10,20,0.7);backdrop-filter:blur(8px);border-bottom:1px solid rgba(255,255,255,0.02);z-index:10}
.logo{font-weight:700;font-size:18px;background:linear-gradient(90deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent}
.header-right{display:flex;align-items:center;gap:8px;}
.header-left{display:flex;align-items:center;gap:12px;flex-wrap:wrap;}
.menu-btn{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.04);padding:6px 10px;border-radius:10px;font-size:13px;cursor:pointer}
.menu-link{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.04);padding:6px 10px;border-radius:10px;font-size:13px;text-decoration:none;display:inline-flex;align-items:center;gap:6px;justify-content:center}
.user-pill{display:flex;align-items:center;gap:8px;background:var(--card);padding:6px 10px;border-radius:12px}
.user-pill img{width:32px;height:32px;border-radius:50%;border:2px solid rgba(255,255,255,0.06);object-fit:cover}
.btn{background:linear-gradient(90deg,var(--accent),var(--accent2));border:none;padding:8px 12px;border-radius:12px;color:#000;font-weight:700;cursor:pointer;font-size:14px;transition:0.2s}
.btn.ghost{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.04)}
.btn:disabled{opacity:0.6;cursor:not-allowed}
.container{max-width:480px;margin:16px auto;padding:0 12px;flex:1;width:100%}
.package{background:linear-gradient(180deg, rgba(6,182,212,0.05), rgba(139,92,246,0.05));border:1px solid rgba(255,255,255,0.05);border-radius:16px;padding:20px;text-align:center;box-shadow:0 8px 30px rgba(11,22,40,0.5);margin-bottom:16px;}
.package h3{color:var(--accent);margin-bottom:6px;font-size:18px;font-weight:600}
.package .price{font-size:22px;font-weight:700;margin-bottom:6px}
.package p{color:#b6c7df;margin-bottom:12px;font-size:14px}
.pkg-details{background:rgba(255,255,255,0.02);padding:10px;border-radius:10px;color:#b6c7df;text-align:left;font-size:13px;margin-top:10px}
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:50;padding:10px;}
.modal.show{display:flex}
.modal-card{width:100%;max-width:420px;background:var(--card);padding:18px;border-radius:16px;box-shadow:0 18px 60px rgba(3,6,12,0.7)}
.input{width:100%;padding:10px;border-radius:10px;border:none;background:#0b1624;color:var(--text);margin:8px 0;font-size:14px}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.toast{position:fixed;left:50%;transform:translateX(-50%);bottom:60px;background:linear-gradient(90deg,var(--accent),var(--accent2));color:#000;padding:10px 14px;border-radius:14px;font-weight:700;display:none;z-index:60;text-align:center;font-size:14px}
.footer-note{padding:8px 16px;color:#92a6cc;font-size:13px;text-align:center}
.small{font-size:13px;color:#9fb0d3}
.warn-text{color:var(--warn);font-weight:600}
@media (max-width:400px){.package h3{font-size:16px}.package .price{font-size:18px}}
</style>
</head>
<body>

<header>
  <div class="header-left">
    <div class="logo">â˜ CloudGame V5</div>
    <button class="menu-btn" id="openHelp">HÆ°á»›ng dáº«n náº¡p tiá»n</button>
    <button class="menu-btn" id="openRentGuide">HÆ°á»›ng dáº«n thuÃª mÃ¡y</button>
    <a class="menu-link" id="zaloLink" href="https://zalo.me/0355761396" target="_blank" rel="noopener">ğŸ’¬ Há»— trá»£ Zalo</a>
  </div>
  <div class="header-right">
    <div id="hdrGuest" style="display:flex;align-items:center;gap:6px">
      <button class="btn ghost" id="openAuth">ÄÄƒng nháº­p / ÄK</button>
    </div>
    <div id="hdrUser" class="user-pill" style="display:none">
      <img id="hdrAvatar" src="https://i.pravatar.cc/100">
      <div style="display:flex;flex-direction:column;align-items:flex-start">
        <div id="hdrName">KhÃ¡ch</div>
        <div class="small">ğŸ’° <span id="hdrBalance">0</span> Ä‘</div>
      </div>
      <button class="btn" id="btnTopUp">Náº¡p</button>
      <button class="btn ghost" id="btnLogout">ÄÄƒng xuáº¥t</button>
    </div>
    <button class="btn ghost" id="btnAdminOpen" style="display:none">Admin</button>
  </div>
</header>

<div class="container">
  <div class="package" id="packageCard">
    <h3 id="pkgTitle">GÃ³i ThuÃª 7K / 1 giá»</h3>
    <div class="price">7.000 Ä‘</div>
    <div class="pkg-details">
      <div style="font-weight:600;margin-bottom:6px">Chi tiáº¿t cáº¥u hÃ¬nh mÃ¡y</div>
      <div>â€¢ CPU: Intel Core i5 (4 cores) hoáº·c tÆ°Æ¡ng Ä‘Æ°Æ¡ng</div>
      <div>â€¢ RAM: 8 GB</div>
      <div>â€¢ GPU: NVIDIA GTX 1050 / tÆ°Æ¡ng Ä‘Æ°Æ¡ng</div>
      <div>â€¢ á»” cá»©ng: SSD 50 GB</div>
      <div>â€¢ Há»‡ Ä‘iá»u hÃ nh: Windows 10</div>
    </div>
    <p style="margin-top:12px;color:#9fb0d3">Cháº¡y mÆ°á»£t cÃ¡c game nháº¹ / mod, phÃ¹ há»£p thao tÃ¡c chuá»™t + bÃ n phÃ­m trÃªn mobile.</p>
    <button class="btn" id="buyPkg">ThuÃª ngay</button>
    <div id="pkgStatus" class="small" style="margin-top:8px;height:18px"></div>
  </div>
</div>

<div class="footer-note">Â© 2025 CloudGame â€” Demo V5 (Local)</div>

<!-- Auth Modal -->
<div class="modal" id="authModal">
  <div class="modal-card">
    <h3 id="authTitle">ÄÄƒng nháº­p</h3>
    <input id="inpUser" class="input" placeholder="TÃªn tÃ i khoáº£n">
    <input id="inpPass" class="input" type="password" placeholder="Máº­t kháº©u">
    <div class="row" style="margin-top:6px">
      <button class="btn" id="authBtn">ÄÄƒng nháº­p</button>
      <button class="btn ghost" id="switchReg">ÄÄƒng kÃ½</button>
    </div>
    <div class="small" style="margin-top:8px">Admin demo: <b>admin / admin</b></div>
  </div>
</div>

<!-- QR Modal -->
<div class="modal" id="qrModal">
  <div class="modal-card">
    <h3>Náº¡p tiá»n báº±ng QR</h3>
    <input id="topupAmount" class="input" placeholder="Sá»‘ tiá»n náº¡p (â‰¥15k)" type="number">
    <div class="row" style="margin-top:6px">
      <button class="btn" id="confirmTopup">Náº¡p</button>
      <button class="btn ghost" id="closeQR">ÄÃ³ng</button>
    </div>
    <div class="small warn-text" style="margin-top:6px">LÆ°u Ã½: Náº¡p dÆ°á»›i 15k sáº½ khÃ´ng Ä‘Æ°á»£c cá»™ng vÃ o tÃ i khoáº£n</div>
  </div>
</div>

<!-- Help Modal -->
<div class="modal" id="helpModal">
  <div class="modal-card">
    <h3>HÆ°á»›ng dáº«n náº¡p tiá»n</h3>
    <div class="small" style="margin-top:10px;line-height:1.4">
      1ï¸âƒ£ Má»Ÿ VietinBank / ZaloPay.<br>
      2ï¸âƒ£ Nháº­p sá»‘ tiá»n â‰¥ 15.000 Ä‘.<br>
      3ï¸âƒ£ QuÃ©t QR vÃ  gá»­i.<br>
      4ï¸âƒ£ Sá»‘ dÆ° cáº­p nháº­t sau khi xÃ¡c nháº­n.
    </div>
    <div style="text-align:right;margin-top:10px">
      <button class="btn ghost" id="closeHelp">ÄÃ³ng</button>
    </div>
  </div>
</div>

<!-- Rent Guide Modal -->
<div class="modal" id="rentGuideModal">
  <div class="modal-card">
    <h3>HÆ°á»›ng dáº«n thuÃª mÃ¡y</h3>
    <div class="small" style="margin-top:10px;line-height:1.4">
      1ï¸âƒ£ ÄÄƒng nháº­p tÃ i khoáº£n.<br>
      2ï¸âƒ£ Chá»n gÃ³i thuÃª.<br>
      3ï¸âƒ£ Báº¥m "ThuÃª ngay".<br>
      4ï¸âƒ£ Náº¿u cÃ²n thá»i gian, báº¥m "ChÆ¡i ngay" Ä‘á»ƒ Ä‘iá»u khiá»ƒn PC tá»« xa.<br>
      5ï¸âƒ£ Thao tÃ¡c chuá»™t + bÃ n phÃ­m nhÆ° trÃªn PC.
    </div>
    <div style="text-align:right;margin-top:10px">
      <button class="btn ghost" id="closeRentGuide">ÄÃ³ng</button>
    </div>
  </div>
</div>

<!-- Remote Windows 10 Modal (Desktop) -->
<div class="modal" id="winModal">
  <div class="modal-card" style="max-width:100%;max-height:100%;padding:0;background:#000;border-radius:8px;overflow:hidden">
    <div style="display:flex;justify-content:space-between;align-items:center;padding:6px 12px;background:rgba(0,0,0,0.6);color:#fff;font-weight:600">
      <span>Windows 10 Remote</span>
      <div>
        <button class="btn ghost" id="winFull">Full mÃ n hÃ¬nh</button>
        <button class="btn ghost" id="winClose">ÄÃ³ng</button>
      </div>
    </div>
    <iframe id="winFrame" src="about:blank" style="width:100%;height:calc(100vh - 44px);border:none;background:#000"></iframe>
  </div>
</div>

<!-- Mobile Remote Modal -->
<div class="modal" id="mobileWinModal">
  <div class="modal-card" style="width:100%;height:100%;padding:0;background:#000;border-radius:0;display:flex;flex-direction:column;">
    <div style="display:flex;justify-content:space-between;align-items:center;padding:12px;background:rgba(0,0,0,0.8);color:#fff;font-weight:600">
      <span>Äiá»u khiá»ƒn PC tá»« xa</span>
      <button class="btn ghost" id="mobileWinClose">ÄÃ³ng</button>
    </div>
    <div style="flex:1;display:flex;justify-content:center;align-items:center;color:#fff;flex-direction:column">
      <p style="margin-bottom:12px;text-align:center;padding:0 20px">Báº¥m nÃºt dÆ°á»›i Ä‘á»ƒ má»Ÿ Parsec vÃ  Ä‘iá»u khiá»ƒn mÃ¡y tÃ­nh tá»« xa.</p>
      <a id="mobileParsecLink" href="#" target="_blank" class="btn" style="padding:12px 20px;font-size:16px">Má»Ÿ Parsec App</a>
    </div>
  </div>
</div>

<!-- Admin Modal -->
<div class="modal" id="adminModal">
  <div class="modal-card" style="max-width:720px">
    <h3>Admin Panel</h3>
    <div class="row" style="flex-wrap:wrap;margin-top:6px">
      <div style="flex:1">
        <div class="small">Danh sÃ¡ch ngÆ°á»i dÃ¹ng</div>
        <div class="history" id="adminUsers" style="max-height:200px;overflow:auto"></div>
      </div>
      <div style="width:200px">
        <div class="small">Chá»n user</div>
        <select id="adminSelect" class="input"></select>
        <input id="adminAmount" class="input" placeholder="Sá»‘ tiá»n cá»™ng" type="number">
        <div class="row" style="margin-top:4px">
          <button class="btn" id="adminAddBal">Cá»™ng tiá»n</button>
        </div>
      </div>
    </div>
    <div style="text-align:right;margin-top:6px"><button class="btn ghost" id="adminClose">ÄÃ³ng</button></div>
  </div>
</div>

<div class="toast" id="toastBox"></div>

<script>
// ===== Data =====
let store=JSON.parse(localStorage.getItem('cg_store')||'{}');
if(!store.users) store.users={};
if(!store.users['admin']) store.users['admin']={password:'admin',balance:0};
let currentUser=localStorage.getItem('cg_current')||null;

// ===== Elements =====
const hdrGuest=document.getElementById('hdrGuest');
const hdrUser=document.getElementById('hdrUser');
const hdrName=document.getElementById('hdrName');
const hdrBalance=document.getElementById('hdrBalance');
const btnAdminOpen=document.getElementById('btnAdminOpen');
const toastBox=document.getElementById('toastBox');
const adminUsers=document.getElementById('adminUsers');
const adminSelect=document.getElementById('adminSelect');
const pkgStatus=document.getElementById('pkgStatus');

// ===== Helpers =====
function saveStore(){localStorage.setItem('cg_store',JSON.stringify(store))}
function toast(msg,ms=1800){toastBox.textContent=msg;toastBox.style.display='block';setTimeout(()=>toastBox.style.display='none',ms)}
function format(n){return Number(n).toLocaleString()}

// ===== Auth =====
document.getElementById('openAuth').onclick=()=>authModal.classList.add('show');
document.getElementById('switchReg').onclick=()=>{
  const btn=document.getElementById('authBtn');
  const title=document.getElementById('authTitle');
  if(btn.dataset.mode==='register'){btn.dataset.mode='login';title.textContent='ÄÄƒng nháº­p';btn.textContent='ÄÄƒng nháº­p'}
  else{btn.dataset.mode='register';title.textContent='ÄÄƒng kÃ½';btn.textContent='ÄÄƒng kÃ½'}
};
document.getElementById('authBtn').onclick=()=>{
  const user=document.getElementById('inpUser').value.trim();
  const pass=document.getElementById('inpPass').value.trim();
  if(!user||!pass){toast('Nháº­p Ä‘á»§ thÃ´ng tin');return;}
  const mode=document.getElementById('authBtn').dataset.mode||'login';
  if(mode==='register'){
    if(store.users[user]){toast('TÃ i khoáº£n tá»“n táº¡i');return;}
    store.users[user]={password:pass,balance:0};
    saveStore();toast('ÄÄƒng kÃ½ thÃ nh cÃ´ng (khÃ´ng cá»™ng tiá»n)');
    document.getElementById('authBtn').dataset.mode='login';document.getElementById('authTitle').textContent='ÄÄƒng nháº­p';document.getElementById('authBtn').textContent='ÄÄƒng nháº­p';
    return;
  }else{
    const u=store.users[user];if(!u||u.password!==pass){toast('Sai tÃ i khoáº£n hoáº·c máº­t kháº©u');return;}
    currentUser=user;localStorage.setItem('cg_current',currentUser);authModal.classList.remove('show');toast('ÄÄƒng nháº­p thÃ nh cÃ´ng');renderForUser();
  }
};
document.querySelectorAll('.modal').forEach(m=>m.addEventListener('click',e=>{if(e.target===m)m.classList.remove('show')}));
document.getElementById('btnLogout').onclick=()=>{currentUser=null;localStorage.removeItem('cg_current');toast('ÄÃ£ Ä‘Äƒng xuáº¥t');renderForUser()};

// ===== Render =====
function renderForUser(){
  if(!currentUser){hdrGuest.style.display='flex';hdrUser.style.display='none';btnAdminOpen.style.display='none'} 
  else{
    const u=store.users[currentUser];
    hdrGuest.style.display='none';hdrUser.style.display='flex';
    hdrName.textContent=currentUser;hdrBalance.textContent=format(u.balance);
    btnAdminOpen.style.display=(currentUser==='admin')?'inline-block':'none';
  }
}

// ===== ThuÃª & ChÆ¡i láº¡i =====
function getPkgStatus(){
  const key='cg_pkg_'+currentUser;
  const data=JSON.parse(localStorage.getItem(key)||'{}');
  if(!data.expire) return null;
  const remain=data.expire - Date.now();
  return remain>0?remain:0;
}
function updatePkgBtn(){
  const remain=getPkgStatus();
  const btn=document.getElementById('buyPkg');
  const status=pkgStatus;
  if(!currentUser){btn.textContent='ThuÃª ngay';btn.disabled=false; status.textContent=''; return;}
  if(remain>0){
    btn.textContent='ChÆ¡i ngay';
    btn.disabled=false;
    const min=Math.floor(remain/60000);
    const sec=Math.floor((remain%60000)/1000);
    status.textContent=`Thá»i gian cÃ²n láº¡i: ${min} phÃºt ${sec} giÃ¢y`;
  } else{
    btn.textContent='ThuÃª ngay';
    btn.disabled=false;
    status.textContent='';
  }
}
setInterval(updatePkgBtn,1000);

document.getElementById('buyPkg').onclick=()=>{
  if(!currentUser){toast('ÄÄƒng nháº­p Ä‘á»ƒ thuÃª gÃ³i');authModal.classList.add('show');return;}
  const remain=getPkgStatus();
  const btn=document.getElementById('buyPkg');
  if(remain>0){
    openWinRemote();
    return;
  }
  btn.disabled=true; pkgStatus.textContent='Äang xá»­ lÃ½...';
  setTimeout(()=>{
    const u=store.users[currentUser];
    if(u.balance<7000){toast('Sá»‘ dÆ° khÃ´ng Ä‘á»§');pkgStatus.textContent='';btn.disabled=false;return;}
    u.balance-=7000;saveStore();renderForUser();
    const key='cg_pkg_'+currentUser;
    localStorage.setItem(key,JSON.stringify({expire:Date.now()+3600*1000}));
    toast('ThuÃª gÃ³i thÃ nh cÃ´ng');
    pkgStatus.textContent='Thá»i gian cÃ²n láº¡i: 60 phÃºt 0 giÃ¢y';
    btn.textContent='ChÆ¡i ngay'; btn.disabled=false;
    openWinRemote();
  },1200);
}

// ===== QR Topup =====
document.getElementById('btnTopUp').onclick=openQR;
document.getElementById('closeQR').onclick=()=>qrModal.classList.remove('show');
document.getElementById('confirmTopup').onclick=()=>{
  if(!currentUser){toast('ÄÄƒng nháº­p má»›i náº¡p Ä‘Æ°á»£c');authModal.classList.add('show');return;}
  const amt=Number(document.getElementById('topupAmount').value||0);
  if(amt<15000){toast('Sá»‘ tiá»n náº¡p pháº£i â‰¥ 15k');return;}
  store.users[currentUser].balance+=amt;saveStore();renderForUser();toast(`Náº¡p ${format(amt)} Ä‘ thÃ nh cÃ´ng`);qrModal.classList.remove('show');
};
function openQR(){qrModal.classList.add('show');}

// ===== Help =====
document.getElementById('openHelp').onclick=()=>helpModal.classList.add('show');
document.getElementById('closeHelp').onclick=()=>helpModal.classList.remove('show');
document.getElementById('openRentGuide').onclick=()=>rentGuideModal.classList.add('show');
document.getElementById('closeRentGuide').onclick=()=>rentGuideModal.classList.remove('show');

// ===== Windows Remote =====
function openWinRemote(){
  if(window.innerWidth>768){
    winFrame.src='https://parsec.gg/g/317vNH5xkJrtcEZh6wpIi7yU2nI/b8988a11/';
    winModal.classList.add('show');
  }else{
    mobileParsecLink.href='https://parsec.gg/g/317vNH5xkJrtcEZh6wpIi7yU2nI/b8988a11/';
    mobileWinModal.classList.add('show');
  }
}
document.getElementById('winClose').onclick=()=>winModal.classList.remove('show');
document.getElementById('mobileWinClose').onclick=()=>mobileWinModal.classList.remove('show');
document.getElementById('winFull').onclick=()=>{winFrame.requestFullscreen();}
document.getElementById('zaloLink').onclick=()=>{}; // Ä‘Ã£ link

// ===== Admin =====
btnAdminOpen.onclick=()=>{adminModal.classList.add('show');renderAdmin();}
document.getElementById('adminClose').onclick=()=>adminModal.classList.remove('show');
document.getElementById('adminAddBal').onclick=()=>{
  const user=adminSelect.value; const amt=Number(adminAmount.value||0);
  if(!user||amt<=0){toast('Chá»n user & sá»‘ tiá»n >0');return;}
  store.users[user].balance+=amt;saveStore();renderForUser();renderAdmin();toast(`Cá»™ng ${format(amt)} Ä‘ cho ${user}`);
};
function renderAdmin(){
  adminUsers.innerHTML='';adminSelect.innerHTML='';
  Object.keys(store.users).forEach(u=>{
    const div=document.createElement('div');div.textContent=`${u} â€” ${format(store.users[u].balance)} Ä‘`;
    adminUsers.appendChild(div);
    const opt=document.createElement('option');opt.value=u;opt.textContent=u;adminSelect.appendChild(opt);
  });
}

// ===== Init =====
renderForUser();
updatePkgBtn();
</script>

</body>
</html>
